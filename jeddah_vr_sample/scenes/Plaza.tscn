
[gd_scene load_steps=10 format=3 uid="a1b2c3d4-e5f6-7890-abcd-1234567890ab"]

[ext_resource path="res://scripts/car_mover.gd" type="Script" id=6]
[ext_resource path="res://scripts/drone_mover.gd" type="Script" id=7]

[node name="Plaza" type="Node3D"]

# --- Existing Tower/Building Nodes ---
[node name="TowerPlaceholder" parent="Plaza" type="MeshInstance3D"]
mesh = SubResource( 8 )
transform = Transform3D( 0.05, 0, 0, 0, 1.2, 0, 0, 0, 0.05, 0, 0, -20 )
material_override = SubResource( 20 )

# --- MOVING ACTORS (cars + drones) ---
[node name="Cars" parent="Plaza" type="Node3D"]

[node name="Car1" parent="Cars" type="MeshInstance3D"]
mesh = SubResource( 18 )
transform = Transform3D( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, -50 )
script = ExtResource( 6 )

[node name="Car2" parent="Cars" type="MeshInstance3D"]
mesh = SubResource( 18 )
transform = Transform3D( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 50 )
script = ExtResource( 6 )

[node name="Drones" parent="Plaza" type="Node3D"]

[node name="Drone1" parent="Drones" type="MeshInstance3D"]
mesh = SubResource( 19 )
transform = Transform3D( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 12, -30 )
script = ExtResource( 7 )

[node name="Drone2" parent="Drones" type="MeshInstance3D"]
mesh = SubResource( 19 )
transform = Transform3D( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 12, 30 )
script = ExtResource( 7 )

# --- Environment Settings ---
[sub_resource type="Environment" id=3]
background_mode = 1
background_color = Color( 0.53, 0.73, 0.95 )
ambient_light_color = Color( 0.9, 0.92, 0.94 )
ambient_light_energy = 0.6
ssr_enabled = true
ssr_max_steps = 64
ssao_enabled = true
ssao_radius = 2.0
glow_enabled = true
glow_strength = 0.9

# --- Subresources for placeholders ---
[sub_resource type="BoxMesh" id=18]
size = Vector3( 2, 1, 4 )

[sub_resource type="SphereMesh" id=19]
radius = 0.6
radial_segments = 16
rings = 12

[sub_resource type="StandardMaterial3D" id=20]
albedo_color = Color(0.05, 0.05, 0.08, 1)
metallic = 0.05
roughness = 0.4
emission_enabled = true
emission = Color(0.85, 0.6, 0.35, 1)
emission_energy = 3.5
